import{_ as z}from"./nuxt-link.C6shpcwk.js";import{A as T,B as R,r as y,f as D,o as i,c,a as e,F as H,n as j,v as L,u as g,p as C,x as N,t as V,z as A,m as E,b as $,w as S,d as K,C as Y,D as F,E as G,G as q,H as b,I,q as P,T as Q,J as U,_ as J}from"./entry.CoLsirPJ.js";import{u as B}from"./useSearchStore.BUuIX0ek.js";import{g as O}from"./youtubeHelper.D5UyPOWT.js";const W={class:"max-h-[32rem] overflow-y-auto overscroll-contain"},X={class:"divide-y divide-gray-200 dark:divide-gray-700",role:"listbox"},Z=["onMouseenter","onClick"],ee={class:"flex-auto"},te=["innerHTML"],se=["innerHTML"],oe=["innerHTML"],re={key:0,class:"p-4 text-sm text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700"},ae=T({__name:"SearchResults",props:{results:{type:Array,required:!0}},emits:["close"],setup(o,{expose:r,emit:d}){const a=o,s=d,n=R(),{searchQuery:m}=B(),x=y(-1),f=v=>{if(!m.value)return v;const p=new RegExp(`(${m.value})`,"gi");return v.replace(p,'<span class="bg-yellow-200 font-semibold">$1</span>')},w=v=>{n.push(`/song?id=${v.videoId}`),s("close")};return D(()=>a.results,()=>{x.value=-1}),r({activeIndex:x}),(v,p)=>(i(),c("div",W,[e("ul",X,[(i(!0),c(H,null,j(o.results,(l,h)=>(i(),c("li",{key:l.videoId,class:L(["cursor-pointer flex items-center px-4 py-4",{"bg-gray-50 dark:bg-gray-700":h===x.value}]),onMouseenter:M=>x.value=h,onClick:M=>w(l),role:"option"},[e("div",ee,[e("div",{class:"text-sm font-medium text-gray-900 dark:text-gray-100",innerHTML:f(l.title)},null,8,te),e("div",{class:"text-sm text-gray-500 dark:text-gray-400",innerHTML:f(l.artist)},null,8,se),e("div",{class:"text-xs text-gray-400 dark:text-gray-500",innerHTML:f(g(O)(l.videoId))},null,8,oe)]),p[0]||(p[0]=e("div",{class:"ml-3 flex-none"},[e("svg",{class:"h-5 w-5 text-gray-400 dark:text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])],-1))],42,Z))),128))]),o.results.length===0?(i(),c("div",re," No results found ")):C("",!0)]))}}),ne={class:"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 py-4"},le={class:"container mx-auto text-center"},ie={class:"flex justify-center items-center space-x-4"},de=["href"],ce={__name:"Footer",setup(o){const r=A(),d=N(()=>{const a=new Date().getFullYear(),s=2024;return a>s?`${s}-${a}`:s.toString()});return(a,s)=>(i(),c("footer",ne,[e("div",le,[e("div",ie,[e("p",null,"Â© "+V(d.value)+" RenKa",1),e("a",{href:g(r).public.githubRepo,target:"_blank",rel:"noopener noreferrer",class:"text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300"}," View on GitHub ",8,de)]),s[0]||(s[0]=e("p",{class:"mt-2 text-xs italic"}," This project was created with AI assistance (Claude 3.5 Sonnet & ChatGPT). Song information and lyrics are property of their respective owners. This is an educational project, not for commercial use. ",-1))])]))}};function ue(){const o=y(!1),r=()=>{o.value=!o.value,d()},d=()=>{o.value?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))},a=()=>{const s=localStorage.getItem("darkMode");o.value=s==="true"||!s&&window.matchMedia("(prefers-color-scheme: dark)").matches,d()};return D(o,d),{isDarkMode:o,toggleDarkMode:r,initDarkMode:a}}const ge={class:"flex flex-col min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-300"},ve={class:"bg-blue-600 dark:bg-blue-800 text-white p-4 shadow-md"},xe={class:"container mx-auto flex justify-between items-center"},pe={class:"flex items-center"},me={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},fe={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},he={key:0,class:"fixed inset-0 z-50 overflow-y-auto pt-16 sm:pt-24"},ke={class:"relative bg-white dark:bg-gray-800 mx-auto max-w-2xl rounded-xl shadow-2xl ring-1 ring-black ring-opacity-5 overflow-hidden"},ye={class:"relative"},we=["onKeydown"],_e=T({__name:"default",setup(o){const{searchQuery:r,fetchSongs:d,search:a}=B(),s=y(!1),n=y(null),m=y(null),x=R(),{isDarkMode:f,toggleDarkMode:w,initDarkMode:v}=ue();E(async()=>{await d(),v()});const p=()=>{s.value=!s.value,s.value?U(()=>{var u;(u=m.value)==null||u.focus()}):r.value=""},l=()=>{r.value="",s.value=!1},h=u=>{if(!n.value)return;const t=n.value.activeIndex,_=a.value.length-1;u==="down"?n.value.activeIndex=t<_?t+1:0:n.value.activeIndex=t>0?t-1:_},M=()=>{if(!n.value||n.value.activeIndex===-1)return;const u=a.value[n.value.activeIndex];x.push(`/song?id=${u.videoId}`),l()};return(u,t)=>{const _=z;return i(),c("div",ge,[e("nav",ve,[e("div",xe,[$(_,{to:"/",class:"text-xl sm:text-2xl font-bold"},{default:S(()=>t[4]||(t[4]=[K("RenKa")])),_:1}),e("div",pe,[e("button",{onClick:t[0]||(t[0]=(...k)=>g(w)&&g(w)(...k)),class:"mr-4 focus:outline-none"},[g(f)?(i(),c("svg",me,t[5]||(t[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)]))):(i(),c("svg",fe,t[6]||(t[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])))]),e("button",{onClick:p,class:"focus:outline-none"},t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)]))])])]),e("main",{class:L(["flex-grow container mx-auto",{"blur-transition":s.value}])},[Y(u.$slots,"default",{},void 0)],2),$(ce,{class:"mt-auto"}),$(Q,{name:"fade"},{default:S(()=>[s.value?(i(),c("div",he,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-25 dark:bg-gray-900 dark:bg-opacity-50 transition-opacity backdrop-blur-sm",onClick:l}),e("div",ke,[e("div",ye,[t[8]||(t[8]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400 dark:text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),F(e("input",{ref_key:"searchInput",ref:m,"onUpdate:modelValue":t[1]||(t[1]=k=>q(r)?r.value=k:null),type:"text",placeholder:"Search songs...",class:"block w-full border-0 pl-10 pr-4 py-4 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500 bg-white dark:bg-gray-800 focus:ring-0 focus:outline-none sm:text-sm",onKeydown:[t[2]||(t[2]=b(I(k=>h("down"),["prevent"]),["down"])),t[3]||(t[3]=b(I(k=>h("up"),["prevent"]),["up"])),b(I(M,["prevent"]),["enter"]),b(l,["esc"])]},null,40,we),[[G,g(r)]])]),t[9]||(t[9]=e("div",{class:"border-t border-gray-200 dark:border-gray-700"},null,-1)),g(r)?(i(),P(ae,{key:0,results:g(a),onClose:l,ref_key:"searchResults",ref:n},null,8,["results"])):C("",!0)])])):C("",!0)]),_:1})])}}}),Ce=J(_e,[["__scopeId","data-v-eb9fba1e"]]);export{Ce as default};
