import{_ as H}from"./nuxt-link.BvCaIXdI.js";import{A as R,B as D,r as w,f as y,o as l,c,a as e,F as V,n as j,v as L,u as v,p as S,y as N,t as A,z as E,m as K,b as I,w as T,d as Y,C as F,D as G,E as q,G as P,H as M,I as C,q as Q,T as U,J,_ as O}from"./entry.LRsCZqu7.js";import{u as B}from"./useSearchStore.DGne440Y.js";import{g as W}from"./youtubeHelper.D5UyPOWT.js";const X={class:"max-h-[32rem] overflow-y-auto overscroll-contain"},Z={class:"divide-y divide-gray-200 dark:divide-gray-700",role:"listbox"},ee=["onMouseenter","onClick"],te={class:"flex-auto"},se=["innerHTML"],oe=["innerHTML"],re=["innerHTML"],ae={key:0,class:"p-4 text-sm text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700"},ne=R({__name:"SearchResults",props:{results:{type:Array,required:!0}},emits:["close"],setup(r,{expose:o,emit:i}){const d=r,s=i,u=D(),{searchQuery:a}=B(),x=w(-1),h=g=>{if(!a.value)return g;const f=new RegExp(`(${a.value})`,"gi");return g.replace(f,'<span class="bg-yellow-200 font-semibold">$1</span>')},$=g=>{u.push(`/song?id=${g.videoId}`),s("close")};return y(()=>d.results,()=>{x.value=-1}),o({activeIndex:x}),(g,f)=>(l(),c("div",X,[e("ul",Z,[(l(!0),c(V,null,j(r.results,(p,m)=>(l(),c("li",{key:p.videoId,class:L(["cursor-pointer flex items-center px-4 py-4",{"bg-gray-50 dark:bg-gray-700":m===x.value}]),onMouseenter:_=>x.value=m,onClick:_=>$(p),role:"option"},[e("div",te,[e("div",{class:"text-sm font-medium text-gray-900 dark:text-gray-100",innerHTML:h(p.title)},null,8,se),e("div",{class:"text-sm text-gray-500 dark:text-gray-400",innerHTML:h(p.artist)},null,8,oe),e("div",{class:"text-xs text-gray-400 dark:text-gray-500",innerHTML:h(v(W)(p.videoId))},null,8,re)]),f[0]||(f[0]=e("div",{class:"ml-3 flex-none"},[e("svg",{class:"h-5 w-5 text-gray-400 dark:text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])],-1))],42,ee))),128))]),r.results.length===0?(l(),c("div",ae," No results found ")):S("",!0)]))}}),le={class:"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 py-4"},ie={class:"container mx-auto text-center"},de={class:"flex justify-center items-center space-x-4"},ce=["href"],ue={__name:"Footer",setup(r){const o=E(),i=N(()=>{const d=new Date().getFullYear(),s=2024;return d>s?`${s}-${d}`:s.toString()});return(d,s)=>(l(),c("footer",le,[e("div",ie,[e("div",de,[e("p",null,"Â© "+A(i.value)+" RenKa",1),e("a",{href:v(o).public.githubRepo,target:"_blank",rel:"noopener noreferrer",class:"text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300"}," View on GitHub ",8,ce)]),s[0]||(s[0]=e("p",{class:"mt-2 text-xs italic"}," This project was created with AI assistance (Claude 3.5 Sonnet & ChatGPT). Song information and lyrics are property of their respective owners. This is an educational project, not for commercial use. ",-1))])]))}};function ge(){const r=w(!1),o=()=>{r.value=!r.value,i()},i=()=>{r.value?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))},d=()=>{const s=localStorage.getItem("darkMode");r.value=s==="true"||!s&&window.matchMedia("(prefers-color-scheme: dark)").matches,i()};return y(r,i),{isDarkMode:r,toggleDarkMode:o,initDarkMode:d}}const ve={class:"flex flex-col min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-300"},xe={class:"bg-blue-600 dark:bg-blue-800 text-white p-4 shadow-md"},pe={class:"container mx-auto flex justify-between items-center"},me={class:"flex items-center"},fe={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},he={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ke={key:0,class:"fixed inset-0 z-50 overflow-y-auto pt-16 sm:pt-24"},we={class:"relative bg-white dark:bg-gray-800 mx-auto max-w-2xl rounded-xl shadow-2xl ring-1 ring-black ring-opacity-5 overflow-hidden"},ye={class:"relative"},_e=["onKeydown"],be=R({__name:"default",setup(r){const{searchQuery:o,songs:i,fetchSongs:d,search:s}=B(),u=w(!1),a=w(null),x=w(null),h=D(),{isDarkMode:$,toggleDarkMode:g,initDarkMode:f}=ge();K(async()=>{await d(),f()});const p=()=>{u.value=!u.value,u.value?J(()=>{var n;(n=x.value)==null||n.focus()}):o.value=""},m=()=>{o.value="",u.value=!1},_=n=>{if(!a.value)return;const t=a.value.activeIndex,b=s.value.length-1;n==="down"?a.value.activeIndex=t<b?t+1:0:a.value.activeIndex=t>0?t-1:b},z=()=>{if(!a.value||a.value.activeIndex===-1)return;const n=s.value[a.value.activeIndex];h.push(`/song?id=${n.videoId}`),m()};return y(o,n=>{}),y(s,n=>{}),y(i,n=>{}),(n,t)=>{const b=H;return l(),c("div",ve,[e("nav",xe,[e("div",pe,[I(b,{to:"/",class:"text-xl sm:text-2xl font-bold"},{default:T(()=>t[4]||(t[4]=[Y("RenKa")])),_:1}),e("div",me,[e("button",{onClick:t[0]||(t[0]=(...k)=>v(g)&&v(g)(...k)),class:"mr-4 focus:outline-none"},[v($)?(l(),c("svg",fe,t[5]||(t[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)]))):(l(),c("svg",he,t[6]||(t[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])))]),e("button",{onClick:p,class:"focus:outline-none"},t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)]))])])]),e("main",{class:L(["flex-grow container mx-auto",{"blur-transition":u.value}])},[F(n.$slots,"default",{},void 0)],2),I(ue,{class:"mt-auto"}),I(U,{name:"fade"},{default:T(()=>[u.value?(l(),c("div",ke,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-25 dark:bg-gray-900 dark:bg-opacity-50 transition-opacity backdrop-blur-sm",onClick:m}),e("div",we,[e("div",ye,[t[8]||(t[8]=e("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400 dark:text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),G(e("input",{ref_key:"searchInput",ref:x,"onUpdate:modelValue":t[1]||(t[1]=k=>P(o)?o.value=k:null),type:"text",placeholder:"Search songs...",class:"block w-full border-0 pl-10 pr-4 py-4 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500 bg-white dark:bg-gray-800 focus:ring-0 focus:outline-none sm:text-sm",onKeydown:[t[2]||(t[2]=M(C(k=>_("down"),["prevent"]),["down"])),t[3]||(t[3]=M(C(k=>_("up"),["prevent"]),["up"])),M(C(z,["prevent"]),["enter"]),M(m,["esc"])]},null,40,_e),[[q,v(o)]])]),t[9]||(t[9]=e("div",{class:"border-t border-gray-200 dark:border-gray-700"},null,-1)),v(o)?(l(),Q(ne,{key:0,results:v(s),onClose:m,ref_key:"searchResults",ref:a},null,8,["results"])):S("",!0)])])):S("",!0)]),_:1})])}}}),Se=O(be,[["__scopeId","data-v-9ec0f2f0"]]);export{Se as default};
